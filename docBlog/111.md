所有业务的处理流程大体相同：

首先由外部的数据进入到MQ队列里面，由风控处理，满足条件的话进入到授信，最后返回结果。其中的操作都是异步完成的。

我们主要由两种交易的方式：

1. 一种是实时性交易的：交易我们只提供接口，我们需要异步/实时返回结果
2. 不太要求时间的：批处理，针对实时性要求不高的，集中处理大量数据的(调度系统xxljob,,批出框架)

影像件；属于批处理的交易方式，

个体户借贷等，需要上传身份证正反面，需要经过影像件处理。

查询的时候需要传入开始日期和结束日期；

通过多线程+流处理的方式来保存影像视图的信息，通过分页来减少请求的数据强度。

保存的时候通过产品id和申请id查询出信息，来判断需要保存身份证的方式：

1. 身份证正反面一条信息
2. 身份证正反面各一条信息

有些需要先下载，解压，所有文件统一放到一个目录下，再上传，最后根据上传到的影像件流水进行识别。

dd的处理：